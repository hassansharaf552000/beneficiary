<div class="auth-container">
  <div class="container" [class.right-panel-active]="isRightPanelActive">
    <div class="form-container sign-up-container">
      <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
        <h1>Create Account</h1>
        <div class="social-container">
          <a href="#" class="social"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="social"><i class="fab fa-google-plus-g"></i></a>
          <a href="#" class="social"><i class="fab fa-linkedin-in"></i></a>
        </div>
        <span>or use your email for registration</span>
        
        <input 
          type="text" 
          placeholder="Username" 
          formControlName="username"
          [class.error]="submitted && registerControls['username'].invalid"
        />
        <div *ngIf="submitted && registerControls['username'].invalid" class="error-text">
          Username is required
        </div>
        
        <input 
          type="email" 
          placeholder="Email" 
          formControlName="email"
          [class.error]="submitted && registerControls['email'].invalid"
        />
        <div *ngIf="submitted && registerControls['email'].invalid" class="error-text">
          <span *ngIf="registerControls['email'].errors?.['required']">Email is required</span>
          <span *ngIf="registerControls['email'].errors?.['email']">Invalid email</span>
        </div>
          <div class="password-input-container">
          <input 
            [type]="showRegisterPassword ? 'text' : 'password'" 
            placeholder="Password" 
            formControlName="password"
            [class.error]="submitted && registerControls['password'].invalid"
          />
          <button 
            type="button" 
            class="password-toggle-btn"
            (click)="toggleRegisterPasswordVisibility()"
            [attr.aria-label]="showRegisterPassword ? 'Hide password' : 'Show password'"
          >
            <i [class]="showRegisterPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
          </button>
        </div>
        <div *ngIf="submitted && registerControls['password'].invalid" class="error-text">
          <span *ngIf="registerControls['password'].errors?.['required']">Password is required</span>
          <span *ngIf="registerControls['password'].errors?.['minlength']">Minimum 6 characters</span>
        </div>
        
        <button type="submit" [disabled]="loading">
          {{ loading ? 'Signing Up...' : 'Sign Up' }}
        </button>
      </form>
    </div>

    <div class="form-container sign-in-container">
      <form [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()">
        <h1>Sign in</h1>
        <div class="social-container">
          <a href="#" class="social"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="social"><i class="fab fa-google-plus-g"></i></a>
          <a href="#" class="social"><i class="fab fa-linkedin-in"></i></a>
        </div>
        <span>or use your account</span>
        
        <input 
          type="text" 
          placeholder="Username" 
          formControlName="username"
          [class.error]="submitted && loginControls['username'].invalid"
        />
        <div *ngIf="submitted && loginControls['username'].invalid" class="error-text">
          Username is required
        </div>
          <div class="password-input-container">
          <input 
            [type]="showLoginPassword ? 'text' : 'password'" 
            placeholder="Password" 
            formControlName="password"
            [class.error]="submitted && loginControls['password'].invalid"
          />
          <button 
            type="button" 
            class="password-toggle-btn"
            (click)="toggleLoginPasswordVisibility()"
            [attr.aria-label]="showLoginPassword ? 'Hide password' : 'Show password'"
          >
            <i [class]="showLoginPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
          </button>
        </div>
        <div *ngIf="submitted && loginControls['password'].invalid" class="error-text">
          Password is required
        </div>
        
        <a href="#">Forgot your password?</a>
        <button type="submit" [disabled]="loading">
          {{ loading ? 'Signing In...' : 'Sign In' }}
        </button>
      </form>
    </div>

    <div class="overlay-container">
      <div class="overlay">
        <div class="overlay-panel overlay-left">
          <h1>Welcome Back!</h1>
          <p>To keep connected with us please login with your personal info</p>
          <button class="ghost" (click)="toggleToSignIn()">Sign In</button>
        </div>
        <div class="overlay-panel overlay-right">
          <h1>Hello, Friend!</h1>
          <p>Enter your personal details and start journey with us</p>
          <button class="ghost" (click)="toggleToSignUp()">Sign Up</button>
        </div>
      </div>
    </div>  </div>
</div>

<footer class="auth-footer">
  <p>
    Created with <i class="fa fa-heart"></i> by
    <a target="_blank" href="#"> Hassan Sharaf</a>
  </p>
</footer>

<p-toast></p-toast>
