import './polyfills.server.mjs';
import{A as ze,B as qe,C as Ae,D as Fe,F as Ve,H as le,I as je,J as De,d as P,e as ye,h as we,i as ne,j as C,k as H,l as Se,m as ie,n as ke,o as re,p as Ee,q as Ie,r as oe,s as Re,t as Be,u as Te,v as T,w as ae}from"./chunk-F5M3E54A.mjs";import{A as w,Aa as o,B as Q,Ba as b,Ca as f,E as _,Ea as F,F as h,Fa as V,G as I,Ga as j,H as L,Ib as ee,Ja as R,Ka as y,L as pe,Sa as M,Ta as N,U as r,Ua as k,V as u,a as ue,da as p,ea as be,fa as s,ga as _e,ha as he,hc as Oe,ia as xe,ka as i,kc as Y,la as n,lc as te,ma as d,nc as ge,pb as Ce,qa as S,qb as B,ra as x,rb as E,sa as m,t as G,u as W,ub as ve,vb as Me,w as $,wa as J,wb as U,x as D,xa as K,xb as Z,ya as X,yb as Pe}from"./chunk-W6QXKX3L.mjs";import"./chunk-VVCT4QZE.mjs";var q=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api/beneficiaries"}getAllBeneficiaries(){return this.http.get(this.apiUrl)}getBeneficiaryById(e){return this.http.get(`${this.apiUrl}/${e}`)}createBeneficiary(e){return this.http.post(this.apiUrl,e)}updateBeneficiary(e,l){return this.http.put(`${this.apiUrl}/${e}`,l)}deleteBeneficiary(e){return this.http.delete(`${this.apiUrl}/${e}`)}rateBeneficiary(e,l,a){return this.http.post(`/api/beneficiaries/${l}/rate`,{raterId:e,rating:a})}getUserRatingForBeneficiary(e,l){return new ue(a=>a.next(null))}canRateBeneficiary(e,l){return e!==l}static{this.\u0275fac=function(l){return new(l||t)($(ee))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ze=()=>({width:"500px"}),et=()=>[1,2,3,4,5];function tt(t,c){if(t&1&&d(0,"i",21),t&2){let e=c.index,l=m(2);he("filled",e<l.averageRatingFloor)("empty",e>=l.averageRatingFloor)}}function nt(t,c){if(t&1&&(i(0,"div",22)(1,"span",23),o(2),n()()),t&2){let e=m(2);r(2),f("",e.ratingValue," star(s) selected")}}function it(t,c){if(t&1){let e=S();i(0,"div",3)(1,"div",4)(2,"div",5),o(3),n(),i(4,"div",6)(5,"h3",7),o(6),n(),i(7,"p",8),o(8),n(),i(9,"div",9)(10,"span",10),o(11,"Current Average:"),n(),i(12,"div",11),p(13,tt,1,4,"i",12),n(),i(14,"span",13),o(15),M(16,"number"),n(),i(17,"span",14),o(18),n()()()(),i(19,"div",15)(20,"h4",16),o(21,"Your Rating"),n(),i(22,"p",17),o(23),n(),i(24,"div",18)(25,"p-rating",19),j("ngModelChange",function(a){_(e);let g=m();return V(g.ratingValue,a)||(g.ratingValue=a),h(a)}),x("onRate",function(a){_(e);let g=m();return h(g.onRatingChange(a))}),n(),p(26,nt,3,1,"div",20),n()()()}if(t&2){let e=m();r(3),f(" ",e.beneficiary.name.charAt(0).toUpperCase()," "),r(3),b(e.beneficiary.name),r(2),f("ID: ",e.beneficiary.id,""),r(5),s("ngForOf",R(14,et)),r(2),f("",k(16,11,e.averageRating,"1.1-1")," / 5"),r(3),f("(",e.beneficiary.ratings.numberOfRatings," reviews)"),r(5),f("Rate your experience with ",e.beneficiary.name,""),r(2),F("ngModel",e.ratingValue),s("cancel",!1)("disabled",e.loading),r(),s("ngIf",e.ratingValue>0)}}function rt(t,c){t&1&&d(0,"i",30)}function ot(t,c){t&1&&d(0,"i",31)}function at(t,c){if(t&1){let e=S();i(0,"div",24)(1,"button",25),x("click",function(){_(e);let a=m();return h(a.closeDialog())}),d(2,"i",26),o(3," Cancel "),n(),i(4,"button",27),x("click",function(){_(e);let a=m();return h(a.submitRating())}),p(5,rt,1,0,"i",28)(6,ot,1,0,"i",29),o(7),n()()}if(t&2){let e=m();r(),s("disabled",e.loading),r(3),s("disabled",e.loading||e.ratingValue===0),r(),s("ngIf",!e.loading),r(),s("ngIf",e.loading),r(),f(" ",e.loading?"Submitting...":"Submit Rating"," ")}}var Ue=(()=>{class t{constructor(e,l,a){this.beneficiaryService=e,this.auth=l,this.messageService=a,this.visible=!1,this.beneficiary=null,this.visibleChange=new pe,this.ratingSubmitted=new pe,this.ratingValue=0,this.loading=!1}get averageRating(){if(!this.beneficiary?.ratings.numberOfRatings)return 0;let e=this.beneficiary.ratings.totalScore/this.beneficiary.ratings.numberOfRatings;return Math.min(e,5)}get averageRatingFloor(){return Math.min(Math.floor(this.averageRating),5)}onRatingChange(e){this.ratingValue=e.value}submitRating(){if(!this.beneficiary||this.ratingValue===0){this.messageService.add({severity:"warn",summary:"Invalid Rating",detail:"Please select a rating before submitting."});return}this.loading=!0,this.beneficiaryService.rateBeneficiary(this.auth.currentUser.id,this.beneficiary.id,this.ratingValue).subscribe({next:()=>{this.loading=!1,this.messageService.add({severity:"success",summary:"Rating Submitted",detail:`You rated ${this.beneficiary.name} ${this.ratingValue} star(s).`}),this.ratingSubmitted.emit(),this.closeDialog()},error:e=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:e.error?.message||"Could not submit rating"})}})}closeDialog(){this.visible=!1,this.visibleChange.emit(!1),this.ratingValue=0}static{this.\u0275fac=function(l){return new(l||t)(u(q),u(P),u(T))}}static{this.\u0275cmp=w({type:t,selectors:[["app-rating-dialog"]],inputs:{visible:"visible",beneficiary:"beneficiary"},outputs:{visibleChange:"visibleChange",ratingSubmitted:"ratingSubmitted"},decls:4,vars:10,consts:[["styleClass","rating-dialog",3,"visibleChange","onHide","header","visible","modal","closable","draggable","resizable"],["class","rating-dialog-content",4,"ngIf"],["pTemplate","footer"],[1,"rating-dialog-content"],[1,"beneficiary-info"],[1,"beneficiary-avatar"],[1,"beneficiary-details"],[1,"beneficiary-name"],[1,"beneficiary-id"],[1,"current-rating"],[1,"rating-label"],[1,"rating-stars"],["class","pi pi-star-fill",3,"filled","empty",4,"ngFor","ngForOf"],[1,"rating-value"],[1,"rating-count"],[1,"rating-section"],[1,"rating-title"],[1,"rating-description"],[1,"rating-input"],["styleClass","custom-rating",3,"ngModelChange","onRate","ngModel","cancel","disabled"],["class","rating-text",4,"ngIf"],[1,"pi","pi-star-fill"],[1,"rating-text"],[1,"selected-rating"],[1,"dialog-footer"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"pi","pi-times"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","pi pi-check",4,"ngIf"],["class","pi pi-spinner pi-spin",4,"ngIf"],[1,"pi","pi-check"],[1,"pi","pi-spinner","pi-spin"]],template:function(l,a){l&1&&(i(0,"p-dialog",0),j("visibleChange",function(v){return V(a.visible,v)||(a.visible=v),v}),x("onHide",function(){return a.closeDialog()}),p(1,it,27,15,"div",1)(2,at,8,5,"ng-template",2),n(),d(3,"p-toast")),l&2&&(xe(R(9,Ze)),s("header","Rate "+((a.beneficiary==null?null:a.beneficiary.name)||"Beneficiary")),F("visible",a.visible),s("modal",!0)("closable",!0)("draggable",!1)("resizable",!1),r(),s("ngIf",a.beneficiary))},dependencies:[B,E,H,ie,ae,Ve,le,je,U],styles:[".rating-dialog-content[_ngcontent-%COMP%]{padding:1rem 0}.beneficiary-info[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:flex-start;padding:1.5rem;background:linear-gradient(135deg,#f8fafc,#e2e8f0);border-radius:12px;margin-bottom:2rem;border:1px solid #e2e8f0}.beneficiary-avatar[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.5rem;font-weight:700;box-shadow:0 4px 12px #667eea4d;flex-shrink:0}.beneficiary-details[_ngcontent-%COMP%]{flex:1}.beneficiary-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1e293b;margin:0 0 .25rem}.beneficiary-id[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0 0 .75rem;font-weight:500}.current-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.rating-label[_ngcontent-%COMP%]{font-size:.875rem;color:#475569;font-weight:600}.rating-stars[_ngcontent-%COMP%]{display:flex;gap:.125rem}.rating-stars[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1rem}.rating-stars[_ngcontent-%COMP%]   .pi.filled[_ngcontent-%COMP%]{color:#fbbf24}.rating-stars[_ngcontent-%COMP%]   .pi.empty[_ngcontent-%COMP%]{color:#d1d5db}.rating-value[_ngcontent-%COMP%]{font-size:.875rem;color:#374151;font-weight:600}.rating-count[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.rating-section[_ngcontent-%COMP%]{text-align:center;padding:1rem 0}.rating-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1e293b;margin:0 0 .5rem}.rating-description[_ngcontent-%COMP%]{color:#64748b;font-size:.975rem;margin:0 0 1.5rem;line-height:1.5}.rating-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}[_nghost-%COMP%]     .custom-rating .p-rating-icon{font-size:2rem!important;color:#d1d5db;transition:all .3s ease;cursor:pointer;margin:0 .25rem}[_nghost-%COMP%]     .custom-rating .p-rating-icon:hover{color:#fbbf24;transform:scale(1.1)}[_nghost-%COMP%]     .custom-rating .p-rating-icon.p-rating-icon-active{color:#fbbf24!important}.rating-text[_ngcontent-%COMP%]{margin-top:.5rem}.selected-rating[_ngcontent-%COMP%]{font-size:.875rem;color:#059669;font-weight:600;background:#0596691a;padding:.5rem 1rem;border-radius:20px;border:1px solid rgba(5,150,105,.2)}.dialog-footer[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;padding-top:1rem;border-top:1px solid #e2e8f0}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;min-width:120px;justify-content:center}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569;border:1px solid #cbd5e1}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e2e8f0;border-color:#94a3b8}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;box-shadow:0 4px 12px #3b82f64d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2563eb,#1d4ed8);box-shadow:0 6px 16px #3b82f666;transform:translateY(-1px)}[_nghost-%COMP%]     .rating-dialog .p-dialog-header{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:12px 12px 0 0;padding:1.5rem 2rem}[_nghost-%COMP%]     .rating-dialog .p-dialog-header .p-dialog-title{font-weight:700;font-size:1.125rem}[_nghost-%COMP%]     .rating-dialog .p-dialog-header .p-dialog-header-icon{color:#fff}[_nghost-%COMP%]     .rating-dialog .p-dialog-header .p-dialog-header-icon:hover{background:#ffffff1a}[_nghost-%COMP%]     .rating-dialog .p-dialog-content{padding:0 2rem 1rem}[_nghost-%COMP%]     .rating-dialog .p-dialog-footer{padding:0 2rem 1.5rem;border-top:none}@media (max-width: 768px){[_nghost-%COMP%]     .rating-dialog{width:95vw!important;max-width:400px!important}.beneficiary-info[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.current-rating[_ngcontent-%COMP%]{justify-content:center}.dialog-footer[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:.75rem}.btn[_ngcontent-%COMP%]{width:100%}}"]})}}return t})();var dt=["dt"],st=()=>[5,10,20,50],ct=()=>["name","budget"],pt=t=>["/beneficiaries/profile",t];function gt(t,c){t&1&&(i(0,"button",40),d(1,"i",41),o(2," Add Beneficiary "),n())}function mt(t,c){t&1&&(i(0,"tr")(1,"th",42)(2,"div",3),d(3,"i",43),o(4," Name "),d(5,"p-sortIcon",44),n()(),i(6,"th",45)(7,"div",3),d(8,"i",46),o(9," Budget "),d(10,"p-sortIcon",47),n()(),i(11,"th",48)(12,"div",3),d(13,"i",49),o(14," Avg. Rating "),n()(),i(15,"th",50)(16,"div",3),d(17,"i",51),o(18," Actions "),n()()())}function ft(t,c){t&1&&d(0,"i",76)}function ut(t,c){t&1&&d(0,"i",77)}function bt(t,c){if(t&1&&(i(0,"span",78),o(1),n()),t&2){let e=m().$implicit;r(),f(" (",e.ratings.numberOfRatings,") ")}}function _t(t,c){if(t&1){let e=S();i(0,"button",79),x("click",function(){_(e);let a=m().$implicit,g=m();return h(g.openRatingDialog(a))}),d(1,"i",80),i(2,"span"),o(3,"Rate"),n()()}if(t&2){let e=m().$implicit,l=m();s("disabled",(l.auth.currentUser==null?null:l.auth.currentUser.id)===e.id)}}function ht(t,c){if(t&1&&(i(0,"tr",52)(1,"td",53)(2,"div",54)(3,"div",55),o(4),n(),i(5,"div",56)(6,"span",57),o(7),n(),i(8,"span",58),o(9),n()()()(),i(10,"td",59)(11,"div",60)(12,"span",61),o(13),M(14,"currency"),n(),i(15,"div",62),d(16,"div",63),n()()(),i(17,"td",64)(18,"div",65)(19,"div",66),p(20,ft,1,0,"i",67)(21,ut,1,0,"i",68),n(),i(22,"span",69),o(23),M(24,"number"),p(25,bt,2,1,"span",70),n()()(),i(26,"td",71)(27,"div",72)(28,"button",73),d(29,"i",74),i(30,"span"),o(31,"View"),n()(),p(32,_t,4,1,"button",75),n()()()),t&2){let e=c.$implicit,l=c.rowIndex,a=m();be("data-index",l),r(4),f(" ",e.name.charAt(0).toUpperCase()," "),r(3),b(e.name),r(2),f("ID: ",e.id,""),r(4),b(N(14,13,e.budget)),r(3),_e("width",e.budget/1e4*100,"%"),r(4),s("ngForOf",a.getStarsArray(a.getAverageRating(e))),r(),s("ngForOf",a.getEmptyStarsArray(a.getAverageRating(e))),r(2),f(" ",a.getAverageRating(e)>0?k(24,15,a.getAverageRating(e),"1.1-1"):"N/A"," "),r(2),s("ngIf",e.ratings.numberOfRatings>0),r(3),s("routerLink",y(18,pt,e.id)),r(4),s("appHasRole","Beneficiary")}}function xt(t,c){t&1&&(i(0,"button",85),d(1,"i",41),o(2," Add First Beneficiary "),n())}function Ct(t,c){t&1&&(i(0,"tr")(1,"td",81)(2,"div",82),d(3,"i",83),i(4,"h3"),o(5,"No Beneficiaries Found"),n(),i(6,"p"),o(7,"No beneficiaries match your current filters. Try adjusting your search criteria."),n(),p(8,xt,3,0,"button",84),n()()()),t&2&&(r(8),s("appHasRole","Admin"))}function vt(t,c){t&1&&(i(0,"tr")(1,"td",86)(2,"div",87),d(3,"div",88),i(4,"p"),o(5,"Loading beneficiaries..."),n()()()())}var He=(()=>{class t{constructor(e,l,a){this.beneficiaryService=e,this.auth=l,this.messageService=a,this.beneficiaries=[],this.loading=!1,this.searchName="",this.searchBudget=null,this.showRatingDialog=!1,this.selectedBeneficiary=null}ngOnInit(){this.loadBeneficiaries()}loadBeneficiaries(){this.loading=!0,this.beneficiaryService.getAllBeneficiaries().subscribe({next:e=>{this.beneficiaries=e,this.loading=!1},error:()=>{this.loading=!1}})}onSearchName(){this.table.filter(this.searchName,"name","contains")}onSearchBudget(){this.searchBudget!==null&&this.searchBudget!==void 0?this.table.filter(this.searchBudget,"budget","gte"):this.table.filter(null,"budget","gte")}clearFilters(){this.searchName="",this.searchBudget=null,this.table.clear()}get hasActiveFilters(){return this.searchName.trim()!==""||this.searchBudget!==null&&this.searchBudget!==void 0}getAverageRating(e){if(!e.ratings.numberOfRatings)return 0;let l=e.ratings.totalScore/e.ratings.numberOfRatings;return Math.min(l,5)}getStarsArray(e){let l=Math.min(Math.floor(e),5);return Array(Math.max(l,0)).fill(0)}getEmptyStarsArray(e){let l=Math.min(Math.floor(e),5),a=5-Math.max(l,0);return Array(Math.max(a,0)).fill(0)}openRatingDialog(e){if(!this.auth.isLoggedIn()){this.messageService.add({severity:"warn",summary:"Authentication Required",detail:"You must be logged in to rate beneficiaries."});return}if(!this.auth.hasRole("Beneficiary")){this.messageService.add({severity:"warn",summary:"Access Denied",detail:"Only beneficiaries can rate other beneficiaries."});return}if(this.auth.currentUser?.id===e.id){this.messageService.add({severity:"error",summary:"Invalid Action",detail:"You cannot rate yourself."});return}this.selectedBeneficiary=e,this.showRatingDialog=!0}closeRatingDialog(){this.showRatingDialog=!1,this.selectedBeneficiary=null}onRatingSubmitted(){this.closeRatingDialog(),this.loadBeneficiaries()}static{this.\u0275fac=function(l){return new(l||t)(u(q),u(P),u(T))}}static{this.\u0275cmp=w({type:t,selectors:[["app-list-beneficiaries"]],viewQuery:function(l,a){if(l&1&&J(dt,5),l&2){let g;K(g=X())&&(a.table=g.first)}},decls:51,vars:17,consts:[["dt",""],[1,"list-container"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"pi","pi-users","title-icon"],[1,"page-subtitle"],[1,"header-actions"],["class","btn-add","routerLink","/beneficiaries/add","appHighlightOnHover","rgba(16,185,129,0.1)",4,"appHasRole"],[1,"filter-card"],[1,"filter-header"],[1,"filter-title"],[1,"pi","pi-filter"],[1,"filter-controls"],[1,"filter-group"],[1,"filter-label"],[1,"pi","pi-search"],[1,"input-wrapper"],["id","searchName","type","text","placeholder","Enter beneficiary name...",1,"filter-input",3,"ngModelChange","input","ngModel"],[1,"pi","pi-search","input-icon"],[1,"pi","pi-dollar"],["id","searchBudget","type","number","placeholder","Enter minimum budget...","min","0",1,"filter-input",3,"ngModelChange","input","ngModel"],[1,"pi","pi-dollar","input-icon"],[1,"filter-group","mt-3"],["type","button","title","Clear all filters",1,"btn-clear-filters",3,"click","disabled"],[1,"pi","pi-times"],[1,"table-card"],[1,"table-header"],[1,"table-title"],[1,"pi","pi-table"],[1,"table-stats"],[1,"stat-badge"],[1,"pi","pi-users"],[1,"table-wrapper"],["sortField","name","responsiveLayout","scroll","styleClass","enhanced-table","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","rows","rowsPerPageOptions","loading","globalFilterFields","sortOrder","showCurrentPageReport"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[3,"visibleChange","ratingSubmitted","visible","beneficiary"],["routerLink","/beneficiaries/add","appHighlightOnHover","rgba(16,185,129,0.1)",1,"btn-add"],[1,"pi","pi-plus"],["pSortableColumn","name",1,"name-column"],[1,"pi","pi-user","column-icon"],["field","name"],["pSortableColumn","budget",1,"budget-column"],[1,"pi","pi-dollar","column-icon"],["field","budget"],[1,"rating-column"],[1,"pi","pi-star","column-icon"],[1,"actions-column"],[1,"pi","pi-cog","column-icon"],[1,"table-row"],[1,"name-cell"],[1,"user-info"],[1,"user-avatar"],[1,"user-details"],[1,"user-name"],[1,"user-id"],[1,"budget-cell"],[1,"budget-display"],[1,"budget-amount"],[1,"budget-bar"],[1,"budget-fill"],[1,"rating-cell"],[1,"rating-display"],[1,"stars"],["class","filled",4,"ngFor","ngForOf"],["class","empty",4,"ngFor","ngForOf"],[1,"rating-text"],["class","rating-count",4,"ngIf"],[1,"actions-cell"],[1,"action-buttons"],["title","View Profile",1,"action-btn","view-btn",3,"routerLink"],[1,"pi","pi-eye"],["class","action-btn rate-btn","title","Rate Beneficiary",3,"disabled","click",4,"appHasRole"],[1,"filled"],[1,"empty"],[1,"rating-count"],["title","Rate Beneficiary",1,"action-btn","rate-btn",3,"click","disabled"],[1,"pi","pi-star"],["colspan","4",1,"empty-state"],[1,"empty-content"],[1,"pi","pi-users","empty-icon"],["class","btn-add-empty","routerLink","/beneficiaries/add",4,"appHasRole"],["routerLink","/beneficiaries/add",1,"btn-add-empty"],["colspan","4",1,"loading-state"],[1,"loading-content"],[1,"loading-spinner"]],template:function(l,a){if(l&1){let g=S();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),d(4,"i",5),o(5," All Beneficiaries "),n(),i(6,"p",6),o(7,"Manage and view all registered beneficiaries"),n()(),i(8,"div",7),p(9,gt,3,0,"button",8),n()(),i(10,"div",9)(11,"div",10)(12,"h3",11),d(13,"i",12),o(14," Filter Options "),n()(),i(15,"div",13)(16,"div",14)(17,"label",15),d(18,"i",16),o(19," Search by Name "),n(),i(20,"div",17)(21,"input",18),j("ngModelChange",function(O){return _(g),V(a.searchName,O)||(a.searchName=O),h(O)}),x("input",function(){return _(g),h(a.onSearchName())}),n(),d(22,"i",19),n()(),i(23,"div",14)(24,"label",15),d(25,"i",20),o(26," Minimum Budget "),n(),i(27,"div",17)(28,"input",21),j("ngModelChange",function(O){return _(g),V(a.searchBudget,O)||(a.searchBudget=O),h(O)}),x("input",function(){return _(g),h(a.onSearchBudget())}),n(),d(29,"i",22),n()(),i(30,"div",23)(31,"button",24),x("click",function(){return _(g),h(a.clearFilters())}),d(32,"i",25),o(33," Clear Filters "),n()()()(),i(34,"div",26)(35,"div",27)(36,"h3",28),d(37,"i",29),o(38," Beneficiaries List "),n(),i(39,"div",30)(40,"span",31),d(41,"i",32),o(42),n()()(),i(43,"div",33)(44,"p-table",34,0),p(46,mt,19,0,"ng-template",35)(47,ht,33,20,"ng-template",36)(48,Ct,9,1,"ng-template",37)(49,vt,6,0,"ng-template",38),n()()(),i(50,"app-rating-dialog",39),j("visibleChange",function(O){return _(g),V(a.showRatingDialog,O)||(a.showRatingDialog=O),h(O)}),x("ratingSubmitted",function(){return _(g),h(a.onRatingSubmitted())}),n()()}l&2&&(r(9),s("appHasRole","Admin"),r(12),F("ngModel",a.searchName),r(7),F("ngModel",a.searchBudget),r(3),s("disabled",!a.hasActiveFilters),r(11),f(" ",a.beneficiaries.length||0," Total "),r(2),s("value",a.beneficiaries)("paginator",!0)("rows",10)("rowsPerPageOptions",R(15,st))("loading",a.loading)("globalFilterFields",R(16,ct))("sortOrder",1)("showCurrentPageReport",!0),r(6),F("visible",a.showRatingDialog),s("beneficiary",a.selectedBeneficiary))},dependencies:[B,E,ne,re,H,oe,ie,te,qe,ae,Ae,Fe,ye,we,Ue,U,Z],styles:['.list-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto;background:radial-gradient(circle at 20% 80%,rgba(120,119,198,.03) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,119,198,.03) 0%,transparent 50%),linear-gradient(135deg,#6366f105,#8b5cf605,#a855f705 60%,#3b82f605);min-height:calc(100vh - 200px);position:relative;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.list-container[_ngcontent-%COMP%]:before, .list-container[_ngcontent-%COMP%]:after{content:"";position:fixed;border-radius:50%;z-index:-1;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.list-container[_ngcontent-%COMP%]:before{width:300px;height:300px;background:radial-gradient(circle,rgba(99,102,241,.08) 0%,transparent 70%);top:-150px;right:-150px;animation-delay:-3s}.list-container[_ngcontent-%COMP%]:after{width:200px;height:200px;background:radial-gradient(circle,rgba(168,85,247,.06) 0%,transparent 70%);bottom:-100px;left:-100px;animation-delay:-1.5s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}33%{transform:translateY(-20px) rotate(120deg)}66%{transform:translateY(10px) rotate(240deg)}}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcf2),radial-gradient(circle at 30% 40%,rgba(99,102,241,.05) 0%,transparent 50%);border-radius:24px;padding:2.5rem;margin-bottom:2rem;box-shadow:0 20px 40px #00000014,0 8px 24px #6366f114,inset 0 1px #ffffffe6;border:1px solid rgba(255,255,255,.7);-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px);display:flex;justify-content:space-between;align-items:center;position:relative;overflow:hidden;animation:_ngcontent-%COMP%_slideInDown .8s ease-out;transition:all .3s ease}.page-header[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 25px 50px #0000001f,0 12px 30px #6366f11a,inset 0 1px #ffffffe6}.page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;bottom:0;width:4px;background:linear-gradient(180deg,#3b82f6,#6366f1,#8b5cf6,#a855f7,#d946ef,#f59e0b);border-radius:24px 0 0 24px;animation:_ngcontent-%COMP%_gradientShift 4s ease-in-out infinite}.page-header[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;background-image:radial-gradient(2px 2px at 20px 30px,rgba(99,102,241,.3),transparent),radial-gradient(2px 2px at 40px 70px,rgba(168,85,247,.25),transparent),radial-gradient(1px 1px at 90px 40px,rgba(59,130,246,.2),transparent),radial-gradient(1px 1px at 130px 80px,rgba(139,92,246,.15),transparent);background-repeat:repeat;background-size:150px 100px;animation:_ngcontent-%COMP%_particleFloat 20s linear infinite;opacity:.4;pointer-events:none}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_gradientShift{0%,to{background-position:0% 50%}50%{background-position:100% 50%}}@keyframes _ngcontent-%COMP%_particleFloat{0%{background-position:0% 0%}to{background-position:150px 100px}}.header-content[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1e293b;margin:0 0 .5rem;display:flex;align-items:center;gap:1rem;background:linear-gradient(135deg,#1e293b,#334155);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.page-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:2.2rem;color:#3b82f6;background:linear-gradient(135deg,#dbeafe,#bfdbfe);padding:.5rem;border-radius:12px;box-shadow:0 4px 12px #3b82f633}.page-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0;font-weight:400}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn-add[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;padding:1rem 2rem;border-radius:15px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.75rem;text-decoration:none;box-shadow:0 6px 20px #10b9814d,0 2px 8px #10b98133}.btn-add[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 30px #10b98166,0 4px 12px #10b9814d;background:linear-gradient(135deg,#059669,#047857)}.btn-add[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1.1rem}.btn-clear-filters[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:10px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 4px 12px #ef44444d;margin-top:1.5rem}.btn-clear-filters[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #ef444466;background:linear-gradient(135deg,#dc2626,#b91c1c)}.btn-clear-filters[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-clear-filters[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#9ca3af,#6b7280);cursor:not-allowed;opacity:.6;box-shadow:0 2px 6px #9ca3af4d;transform:none}.btn-clear-filters[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:0 2px 6px #9ca3af4d;background:linear-gradient(135deg,#9ca3af,#6b7280)}.btn-clear-filters[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:.9rem}.filter-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcf2);border-radius:20px;padding:2rem;margin-bottom:2rem;box-shadow:0 6px 24px #0000000f,0 2px 12px #6366f10a;border:1px solid rgba(255,255,255,.6);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);position:relative;overflow:hidden}.filter-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;bottom:0;width:4px;background:linear-gradient(180deg,#3b82f6,#6366f1,#8b5cf6,#a855f7,#d946ef,#f59e0b);border-radius:20px 0 0 20px;animation:_ngcontent-%COMP%_gradientShift 4s ease-in-out infinite}.filter-card[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;background-image:radial-gradient(2px 2px at 20px 30px,rgba(99,102,241,.3),transparent),radial-gradient(2px 2px at 40px 70px,rgba(168,85,247,.25),transparent),radial-gradient(1px 1px at 90px 40px,rgba(59,130,246,.2),transparent),radial-gradient(1px 1px at 130px 80px,rgba(139,92,246,.15),transparent);background-repeat:repeat;background-size:150px 100px;animation:_ngcontent-%COMP%_particleFloat 20s linear infinite;opacity:.4;pointer-events:none}.filter-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filter-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1e293b;margin:0;display:flex;align-items:center;gap:.75rem}.filter-title[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{color:#6366f1;font-size:1.3rem}.filter-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.filter-label[_ngcontent-%COMP%]{font-weight:600;color:#374151;font-size:.95rem;display:flex;align-items:center;gap:.5rem}.filter-label[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.filter-input[_ngcontent-%COMP%]{width:100%;padding:1rem 1rem 1rem 3rem;border:2px solid #e2e8f0;border-radius:12px;font-size:1rem;background:#fff;transition:all .3s ease;color:#1e293b}.filter-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-weight:400}.filter-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a,0 4px 12px #3b82f626;transform:translateY(-1px)}.filter-input[_ngcontent-%COMP%]:hover:not(:focus){border-color:#cbd5e1;box-shadow:0 2px 8px #00000014}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;font-size:1rem;color:#9ca3af;transition:color .3s ease;pointer-events:none}.input-wrapper[_ngcontent-%COMP%]:focus-within   .input-icon[_ngcontent-%COMP%]{color:#3b82f6}.table-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f8fafcf2);border-radius:20px;box-shadow:0 8px 32px #00000014,0 4px 16px #6366f10d;border:1px solid rgba(255,255,255,.6);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);overflow:hidden}.table-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f614,#6366f114);padding:2rem;border-bottom:2px solid rgba(99,102,241,.1);display:flex;justify-content:space-between;align-items:center}.table-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1e293b;margin:0;display:flex;align-items:center;gap:.75rem}.table-title[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{color:#6366f1;font-size:1.3rem}.table-stats[_ngcontent-%COMP%]{display:flex;gap:1rem}.stat-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#6366f1);color:#fff;padding:.5rem 1rem;border-radius:12px;font-size:.875rem;font-weight:600;display:flex;align-items:center;gap:.5rem;box-shadow:0 4px 12px #3b82f64d}.stat-badge[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:.9rem}.table-wrapper[_ngcontent-%COMP%]{padding:1rem}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-wrapper[_ngcontent-%COMP%]{border-radius:15px;overflow:hidden}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f61a,#6366f11a);border:none;padding:1.5rem 1rem;font-weight:600;color:#1e293b;font-size:.9rem;text-transform:uppercase;letter-spacing:.05em;position:relative}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:first-child{border-top-left-radius:15px}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:last-child{border-top-right-radius:15px}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .column-icon[_ngcontent-%COMP%]{color:#6366f1;font-size:.9rem}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]   .p-sortable-column-icon[_ngcontent-%COMP%]{color:#6b7280;margin-left:.5rem}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f626,#6366f126)}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{transition:all .3s ease;border-bottom:1px solid rgba(229,231,235,.5)}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f608,#6366f108);transform:translateY(-1px);box-shadow:0 4px 12px #00000014}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:last-child{border-bottom:none}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:1.25rem 1rem;border:none;vertical-align:middle}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-paginator[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafccc,#f1f5f9cc);border:none;border-top:2px solid rgba(99,102,241,.1);padding:1.5rem;border-radius:0 0 15px 15px}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-paginator[_ngcontent-%COMP%]   .p-paginator-element[_ngcontent-%COMP%]{color:#6b7280;font-weight:500;border-radius:8px;min-width:40px;height:40px;margin:0 2px;transition:all .2s ease}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-paginator[_ngcontent-%COMP%]   .p-paginator-element[_ngcontent-%COMP%]:hover{background:#3b82f61a;color:#3b82f6}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-paginator[_ngcontent-%COMP%]   .p-paginator-element.p-highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#6366f1);color:#fff;box-shadow:0 2px 8px #3b82f64d}.name-cell[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.name-cell[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:45px;height:45px;background:linear-gradient(135deg,#667eea,#764ba2,#a855f7 70%,#6366f1);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.1rem;font-weight:600;box-shadow:0 4px 12px #667eea4d,inset 0 1px #fff3}.name-cell[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.name-cell[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:1rem}.name-cell[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;font-weight:500}.budget-cell[_ngcontent-%COMP%]   .budget-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.budget-cell[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]{font-weight:700;color:#059669;font-size:1.1rem}.budget-cell[_ngcontent-%COMP%]   .budget-bar[_ngcontent-%COMP%]{width:100%;height:6px;background:#e5e7eb80;border-radius:3px;overflow:hidden;position:relative}.budget-cell[_ngcontent-%COMP%]   .budget-bar[_ngcontent-%COMP%]   .budget-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#10b981,#059669);border-radius:3px;transition:width .8s ease;box-shadow:0 0 8px #10b98166}.rating-cell[_ngcontent-%COMP%]   .rating-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;align-items:flex-start}.rating-cell[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;gap:.125rem}.rating-cell[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1rem;text-shadow:0 1px 2px rgba(251,191,36,.3)}.rating-cell[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   .pi.filled[_ngcontent-%COMP%]{color:#fbbf24}.rating-cell[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]   .pi.empty[_ngcontent-%COMP%]{color:#d1d5db}.rating-cell[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;font-weight:500}.rating-cell[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]   .rating-count[_ngcontent-%COMP%]{color:#9ca3af;font-size:.75rem;margin-left:.25rem}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}.actions-cell[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.625rem 1rem;border:none;border-radius:10px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;text-decoration:none;min-width:80px;justify-content:center}.actions-cell[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:.9rem}.actions-cell[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #00000026}.actions-cell[_ngcontent-%COMP%]   .action-btn.view-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;box-shadow:0 4px 12px #3b82f64d}.actions-cell[_ngcontent-%COMP%]   .action-btn.view-btn[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #3b82f666;background:linear-gradient(135deg,#2563eb,#1d4ed8)}.actions-cell[_ngcontent-%COMP%]   .action-btn.rate-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;box-shadow:0 4px 12px #f59e0b4d}.actions-cell[_ngcontent-%COMP%]   .action-btn.rate-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 20px #f59e0b66;background:linear-gradient(135deg,#d97706,#b45309)}.actions-cell[_ngcontent-%COMP%]   .action-btn.rate-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;color:#6b7280;box-shadow:none;cursor:not-allowed;opacity:.6}.actions-cell[_ngcontent-%COMP%]   .action-btn.rate-btn[_ngcontent-%COMP%]:disabled:hover{background:#9ca3af;transform:none;box-shadow:none}.actions-cell[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 20px #f59e0b66;background:linear-gradient(135deg,#d97706,#b45309)}.actions-cell[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;color:#6b7280;box-shadow:none;cursor:not-allowed;opacity:.5}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#6b7280}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem;max-width:400px;margin:0 auto}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;color:#d1d5db;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#374151;margin:0}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0;line-height:1.6}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .btn-add-empty[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;padding:.875rem 1.5rem;border-radius:12px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;text-decoration:none;box-shadow:0 4px 12px #10b9814d}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .btn-add-empty[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #10b98166;background:linear-gradient(135deg,#059669,#047857)}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .btn-add-empty[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:.9rem}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#6b7280}.loading-state[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem}.loading-state[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:3rem;height:3rem;border:3px solid rgba(229,231,235,.3);border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-weight:500;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 1024px){.list-container[_ngcontent-%COMP%]{padding:1.5rem}.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;align-items:stretch;text-align:center}.filter-controls[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.table-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch;text-align:center}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}@media (max-width: 768px){.list-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{padding:1.5rem;border-radius:15px}.page-title[_ngcontent-%COMP%]{font-size:2rem;flex-direction:column;gap:.5rem;text-align:center}.filter-card[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]{border-radius:15px}.table-wrapper[_ngcontent-%COMP%]{padding:.5rem;overflow-x:auto}.empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem}.empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:1rem .5rem;font-size:.8rem}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:1rem .5rem}[_ngcontent-%COMP%]:deep(.enhanced-table)   .p-paginator[_ngcontent-%COMP%]{padding:1rem}.name-cell[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.action-btn[_ngcontent-%COMP%]{min-width:auto;width:100%}}@media (max-width: 480px){.list-container[_ngcontent-%COMP%]{padding:.75rem}.page-title[_ngcontent-%COMP%]{font-size:1.75rem}.filter-card[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]{padding:1rem;border-radius:12px}.table-header[_ngcontent-%COMP%]{padding:1rem}.btn-add[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:.9rem}}']})}}return t})();var Mt=["nameInput"],A=t=>({error:t}),Pt=()=>["/beneficiaries"];function Ot(t,c){t&1&&(i(0,"div",36),d(1,"i",37),o(2," Username is required "),n())}function yt(t,c){t&1&&(i(0,"span"),o(1,"Password is required"),n())}function wt(t,c){t&1&&(i(0,"span"),o(1,"Password must be at least 6 characters"),n())}function St(t,c){if(t&1&&(i(0,"div",36),d(1,"i",37),p(2,yt,2,0,"span",38)(3,wt,2,0,"span",38),n()),t&2){let e=m();r(2),s("ngIf",e.f.password.errors==null?null:e.f.password.errors.required),r(),s("ngIf",e.f.password.errors==null?null:e.f.password.errors.minlength)}}function kt(t,c){t&1&&(i(0,"div",36),d(1,"i",37),o(2," Role is required "),n())}function Et(t,c){t&1&&(i(0,"span"),o(1,"Email is required"),n())}function It(t,c){t&1&&(i(0,"span"),o(1,"Invalid email format"),n())}function Rt(t,c){if(t&1&&(i(0,"div",36),d(1,"i",37),p(2,Et,2,0,"span",38)(3,It,2,0,"span",38),n()),t&2){let e=m();r(2),s("ngIf",e.f["contactInfo.email"].errors==null?null:e.f["contactInfo.email"].errors.required),r(),s("ngIf",e.f["contactInfo.email"].errors==null?null:e.f["contactInfo.email"].errors.email)}}function Bt(t,c){t&1&&(i(0,"div",36),d(1,"i",37),o(2," Display name is required "),n())}function Tt(t,c){t&1&&(i(0,"span"),o(1,"Age is required"),n())}function zt(t,c){t&1&&(i(0,"span"),o(1,"Minimum age is 18"),n())}function qt(t,c){if(t&1&&(i(0,"div",36),d(1,"i",37),p(2,Tt,2,0,"span",38)(3,zt,2,0,"span",38),n()),t&2){let e=m(2);r(2),s("ngIf",e.f.age.errors==null?null:e.f.age.errors.required),r(),s("ngIf",e.f.age.errors==null?null:e.f.age.errors.min)}}function At(t,c){t&1&&(i(0,"div",36),d(1,"i",37),o(2," Gender is required "),n())}function Ft(t,c){t&1&&(i(0,"div",36),d(1,"i",37),o(2," Phone number is required "),n())}function Vt(t,c){t&1&&(i(0,"span"),o(1,"Budget is required"),n())}function jt(t,c){t&1&&(i(0,"span"),o(1,"Budget cannot be negative"),n())}function Dt(t,c){if(t&1&&(i(0,"div",36),d(1,"i",37),p(2,Vt,2,0,"span",38)(3,jt,2,0,"span",38),n()),t&2){let e=m(2);r(2),s("ngIf",e.f.budget.errors==null?null:e.f.budget.errors.required),r(),s("ngIf",e.f.budget.errors==null?null:e.f.budget.errors.min)}}function Lt(t,c){t&1&&(i(0,"span"),o(1,"Power level is required"),n())}function Nt(t,c){t&1&&(i(0,"span"),o(1,"Power cannot be negative"),n())}function Ut(t,c){if(t&1&&(i(0,"div",36),d(1,"i",37),p(2,Lt,2,0,"span",38)(3,Nt,2,0,"span",38),n()),t&2){let e=m(2);r(2),s("ngIf",e.f.power.errors==null?null:e.f.power.errors.required),r(),s("ngIf",e.f.power.errors==null?null:e.f.power.errors.min)}}function Yt(t,c){if(t&1&&(i(0,"div",39)(1,"h3",10),d(2,"i",40),o(3," Beneficiary Details "),n(),i(4,"div",12)(5,"div",13)(6,"label",14),d(7,"i",41),o(8," Display Name * "),n(),i(9,"div",16),d(10,"input",42)(11,"i",43),n(),p(12,Bt,3,0,"div",19),n(),i(13,"div",44)(14,"label",14),d(15,"i",45),o(16," Age * "),n(),i(17,"div",16),d(18,"input",46)(19,"i",47),n(),p(20,qt,4,2,"div",19),n(),i(21,"div",44)(22,"label",14),d(23,"i",48),o(24," Gender * "),n(),i(25,"div",24),d(26,"p-dropdown",49),n(),p(27,At,3,0,"div",19),n(),i(28,"div",13)(29,"label",14),d(30,"i",50),o(31," Phone Number * "),n(),i(32,"div",16),d(33,"input",51)(34,"i",52),n(),p(35,Ft,3,0,"div",19),n(),i(36,"div",13)(37,"label",14),d(38,"i",53),o(39," Budget * "),n(),i(40,"div",16),d(41,"input",54)(42,"i",55),n(),p(43,Dt,4,2,"div",19),n(),i(44,"div",13)(45,"label",14),d(46,"i",56),o(47," Power Level * "),n(),i(48,"div",16),d(49,"input",57)(50,"i",58),n(),p(51,Ut,4,2,"div",19),n()()()),t&2){let e=m();r(10),s("ngClass",y(13,A,e.submitted&&e.f.name.invalid)),r(2),s("ngIf",e.submitted&&e.f.name.invalid),r(6),s("ngClass",y(15,A,e.submitted&&e.f.age.invalid)),r(2),s("ngIf",e.submitted&&e.f.age.invalid),r(6),s("options",e.genders)("showClear",!0),r(),s("ngIf",e.submitted&&e.f.gender.invalid),r(6),s("ngClass",y(17,A,e.submitted&&e.f["contactInfo.phone"].invalid)),r(2),s("ngIf",e.submitted&&e.f["contactInfo.phone"].invalid),r(6),s("ngClass",y(19,A,e.submitted&&e.f.budget.invalid)),r(2),s("ngIf",e.submitted&&e.f.budget.invalid),r(6),s("ngClass",y(21,A,e.submitted&&e.f.power.invalid)),r(2),s("ngIf",e.submitted&&e.f.power.invalid)}}function Ht(t,c){t&1&&d(0,"i",59)}function Gt(t,c){t&1&&d(0,"i",60)}var Ge=(()=>{class t{constructor(e,l,a,g,v){this.fb=e,this.beneficiaryService=l,this.authService=a,this.router=g,this.messageService=v,this.loading=!1,this.submitted=!1,this.genders=[{label:"Male",value:"Male"},{label:"Female",value:"Female"}],this.roles=[{label:"Beneficiary",value:"Beneficiary"},{label:"Admin",value:"Admin"}],this.addForm=this.fb.group({username:["",C.required],password:["",[C.required,C.minLength(6)]],name:["",C.required],age:[null,[C.required,C.min(18)]],gender:[null,C.required],"contactInfo.email":["",[C.required,C.email]],"contactInfo.phone":["",C.required],budget:[0,[C.required,C.min(0)]],power:[0,[C.required,C.min(0)]],role:["Beneficiary",C.required]})}ngOnInit(){}ngAfterViewInit(){window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{this.nameInputRef.nativeElement.focus()},100)}get f(){return this.addForm.controls}onSubmit(){if(this.submitted=!0,this.addForm.invalid)return;this.loading=!0;let e={username:this.f.username.value,email:this.addForm.get("contactInfo.email")?.value,password:this.f.password.value,role:this.f.role.value};this.authService.createUser(e).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Added",detail:"User created successfully"}),setTimeout(()=>this.router.navigate(["/beneficiaries/list"]),1e3)},error:l=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:l.error?.message||"Could not create user"})}})}static{this.\u0275fac=function(l){return new(l||t)(u(Re),u(q),u(P),u(Y),u(T))}}static{this.\u0275cmp=w({type:t,selectors:[["app-add-beneficiary"]],viewQuery:function(l,a){if(l&1&&J(Mt,5),l&2){let g;K(g=X())&&(a.nameInputRef=g.first)}},decls:57,vars:23,consts:[["nameInput",""],[1,"add-beneficiary-container"],[1,"form-card"],[1,"form-header"],[1,"form-title"],[1,"pi","pi-user-plus","form-icon"],[1,"form-subtitle"],[1,"enhanced-form",3,"ngSubmit","formGroup"],[1,"form-sections"],[1,"form-section"],[1,"section-title"],[1,"pi","pi-id-card","section-icon"],[1,"form-grid"],[1,"form-group"],[1,"form-label"],[1,"pi","pi-user","label-icon"],[1,"input-wrapper"],["type","text","formControlName","username","placeholder","Enter username",1,"form-input",3,"ngClass"],[1,"pi","pi-user","input-icon"],["class","error-message",4,"ngIf"],[1,"pi","pi-lock","label-icon"],["type","password","formControlName","password","placeholder","Enter password",1,"form-input",3,"ngClass"],[1,"pi","pi-lock","input-icon"],[1,"pi","pi-shield","label-icon"],[1,"dropdown-wrapper"],["optionLabel","label","optionValue","value","placeholder","Select role","formControlName","role","styleClass","custom-dropdown",3,"options","showClear"],[1,"pi","pi-envelope","label-icon"],["type","email","formControlName","contactInfo.email","placeholder","Enter email address",1,"form-input",3,"ngClass"],[1,"pi","pi-envelope","input-icon"],["class","form-section beneficiary-section",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"routerLink"],[1,"pi","pi-times"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","pi pi-check",4,"ngIf"],["class","pi pi-spinner pi-spin",4,"ngIf"],[1,"error-message"],[1,"pi","pi-exclamation-triangle"],[4,"ngIf"],[1,"form-section","beneficiary-section"],[1,"pi","pi-users","section-icon"],[1,"pi","pi-tag","label-icon"],["type","text","formControlName","name","placeholder","Enter display name",1,"form-input",3,"ngClass"],[1,"pi","pi-tag","input-icon"],[1,"form-group","form-group-small"],[1,"pi","pi-calendar","label-icon"],["type","number","formControlName","age","placeholder","Age","min","18",1,"form-input",3,"ngClass"],[1,"pi","pi-calendar","input-icon"],[1,"pi","pi-users","label-icon"],["optionLabel","label","optionValue","value","placeholder","Select gender","formControlName","gender","styleClass","custom-dropdown",3,"options","showClear"],[1,"pi","pi-phone","label-icon"],["type","tel","formControlName","contactInfo.phone","placeholder","Enter phone number",1,"form-input",3,"ngClass"],[1,"pi","pi-phone","input-icon"],[1,"pi","pi-dollar","label-icon"],["type","number","formControlName","budget","placeholder","Enter budget amount","min","0","step","0.01",1,"form-input",3,"ngClass"],[1,"pi","pi-dollar","input-icon"],[1,"pi","pi-bolt","label-icon"],["type","number","formControlName","power","placeholder","Enter power level","min","0",1,"form-input",3,"ngClass"],[1,"pi","pi-bolt","input-icon"],[1,"pi","pi-check"],[1,"pi","pi-spinner","pi-spin"]],template:function(l,a){if(l&1){let g=S();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),d(4,"i",5),o(5," Add New User "),n(),i(6,"p",6),o(7,"Create a new user account with appropriate permissions"),n()(),i(8,"form",7),x("ngSubmit",function(){return _(g),h(a.onSubmit())}),i(9,"div",8)(10,"div",9)(11,"h3",10),d(12,"i",11),o(13," Basic Information "),n(),i(14,"div",12)(15,"div",13)(16,"label",14),d(17,"i",15),o(18," Username * "),n(),i(19,"div",16),d(20,"input",17,0)(22,"i",18),n(),p(23,Ot,3,0,"div",19),n(),i(24,"div",13)(25,"label",14),d(26,"i",20),o(27," Password * "),n(),i(28,"div",16),d(29,"input",21)(30,"i",22),n(),p(31,St,4,2,"div",19),n(),i(32,"div",13)(33,"label",14),d(34,"i",23),o(35," Role * "),n(),i(36,"div",24),d(37,"p-dropdown",25),n(),p(38,kt,3,0,"div",19),n(),i(39,"div",13)(40,"label",14),d(41,"i",26),o(42," Email * "),n(),i(43,"div",16),d(44,"input",27)(45,"i",28),n(),p(46,Rt,4,2,"div",19),n()()(),p(47,Yt,52,23,"div",29),n(),i(48,"div",30)(49,"button",31),d(50,"i",32),o(51," Cancel "),n(),i(52,"button",33),p(53,Ht,1,0,"i",34)(54,Gt,1,0,"i",35),o(55),n()()()(),d(56,"p-toast"),n()}l&2&&(r(8),s("formGroup",a.addForm),r(12),s("ngClass",y(16,A,a.submitted&&a.f.username.invalid)),r(3),s("ngIf",a.submitted&&a.f.username.invalid),r(6),s("ngClass",y(18,A,a.submitted&&a.f.password.invalid)),r(2),s("ngIf",a.submitted&&a.f.password.invalid),r(6),s("options",a.roles)("showClear",!0),r(),s("ngIf",a.submitted&&a.f.role.invalid),r(6),s("ngClass",y(20,A,a.submitted&&a.f["contactInfo.email"].invalid)),r(2),s("ngIf",a.submitted&&a.f["contactInfo.email"].invalid),r(),s("ngIf",a.f.role.value==="Beneficiary"),r(2),s("routerLink",R(22,Pt)),r(3),s("disabled",a.loading||a.addForm.invalid),r(),s("ngIf",!a.loading),r(),s("ngIf",a.loading),r(),f(" ",a.loading?"Creating...":"Create User"," "))},dependencies:[Ce,E,ke,ne,re,H,Se,oe,Ee,Ie,te,ze,le],styles:['.add-beneficiary-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;min-height:auto}.form-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8fafc);border-radius:20px;box-shadow:0 10px 30px #0000001a,0 4px 20px #0000000d;padding:2.5rem;border:1px solid rgba(255,255,255,.2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:relative;overflow:hidden}.form-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#3b82f6,#10b981,#f59e0b)}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem;padding-bottom:2rem;border-bottom:2px solid #f1f5f9;position:relative}.form-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:50%;transform:translate(-50%);width:80px;height:2px;background:linear-gradient(90deg,#3b82f6,#10b981);border-radius:2px}.form-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1e293b;margin:0 0 .5rem;display:flex;align-items:center;justify-content:center;gap:1rem}.form-title[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]{font-size:2.2rem;color:#3b82f6;background:linear-gradient(135deg,#dbeafe,#bfdbfe);padding:.5rem;border-radius:12px}.form-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0;font-weight:400}.enhanced-form[_ngcontent-%COMP%]   .form-sections[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.enhanced-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{background:#ffffffb3;border-radius:16px;padding:2rem;border:1px solid #e2e8f0;transition:all .3s ease;position:relative}.enhanced-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #00000014;transform:translateY(-2px)}.enhanced-form[_ngcontent-%COMP%]   .form-section.beneficiary-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b9810d,#10b98105);border-color:#10b98133}.enhanced-form[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1e293b;margin:0 0 1.5rem;display:flex;align-items:center;gap:.75rem}.enhanced-form[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{font-size:1.3rem;color:#3b82f6;background:linear-gradient(135deg,#dbeafe,#bfdbfe);padding:.4rem;border-radius:8px}.enhanced-form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;align-items:start}.enhanced-form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-group-small[_ngcontent-%COMP%]{grid-column:span 1;min-width:180px}.enhanced-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.enhanced-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#374151;font-size:.95rem;display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}.enhanced-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280}.enhanced-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%], .enhanced-form[_ngcontent-%COMP%]   .dropdown-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.enhanced-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 2.75rem;border:2px solid #e2e8f0;border-radius:12px;font-size:1rem;background:#fff;transition:all .3s ease;font-weight:400;color:#1e293b}.enhanced-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af;font-weight:400}.enhanced-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a,0 4px 12px #3b82f626;transform:translateY(-1px)}.enhanced-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:hover:not(:focus){border-color:#cbd5e1;box-shadow:0 2px 8px #00000014}.enhanced-form[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%]{border-color:#ef4444;background:#ef444405;box-shadow:0 0 0 4px #ef44441a}.enhanced-form[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;font-size:1rem;color:#9ca3af;transition:color .3s ease;pointer-events:none}.enhanced-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]:focus-within   .input-icon[_ngcontent-%COMP%]{color:#3b82f6}.enhanced-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.custom-dropdown){width:100%}.enhanced-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.custom-dropdown)   .p-dropdown[_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:12px;background:#fff;transition:all .3s ease;min-height:3.25rem}.enhanced-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.custom-dropdown)   .p-dropdown[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;box-shadow:0 2px 8px #00000014}.enhanced-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.custom-dropdown)   .p-dropdown.p-focus[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f61a,0 4px 12px #3b82f626;transform:translateY(-1px)}.enhanced-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.custom-dropdown)   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-label[_ngcontent-%COMP%]{padding:.875rem 1rem;font-size:1rem;color:#1e293b;font-weight:400}.enhanced-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.custom-dropdown)   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-label.p-placeholder[_ngcontent-%COMP%]{color:#9ca3af}.enhanced-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.custom-dropdown)   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-trigger[_ngcontent-%COMP%]{color:#6b7280;width:3rem}.enhanced-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.custom-dropdown)   .p-dropdown-panel[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 10px 40px #00000026;border:1px solid #e2e8f0;margin-top:.5rem}.enhanced-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.custom-dropdown)   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .p-dropdown-item[_ngcontent-%COMP%]{padding:.75rem 1rem;transition:all .2s ease;border-radius:8px;margin:.25rem}.enhanced-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.custom-dropdown)   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .p-dropdown-item[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#3b82f6}.enhanced-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.custom-dropdown)   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .p-dropdown-item.p-highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff}.enhanced-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem;font-weight:500;display:flex;align-items:center;gap:.5rem;margin-top:.25rem;padding:.5rem .75rem;background:#ef44440d;border-radius:8px;border-left:3px solid #ef4444}.enhanced-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:.8rem}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:3rem;padding-top:2rem;border-top:2px solid #f1f5f9}.btn[_ngcontent-%COMP%]{padding:.875rem 2rem;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;min-width:140px;justify-content:center;position:relative;overflow:hidden}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.btn[_ngcontent-%COMP%]:hover:before{left:100%}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.btn[_ngcontent-%COMP%]:disabled:hover:before{left:-100%}.btn[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:.9rem}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;box-shadow:0 4px 15px #3b82f64d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#2563eb,#1d4ed8);box-shadow:0 8px 25px #3b82f666}.btn-primary[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 4px 15px #3b82f64d,0 0 0 4px #3b82f633}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563);color:#fff;box-shadow:0 4px 15px #6b728033}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#4b5563,#374151);box-shadow:0 8px 25px #6b72804d}@media (max-width: 1024px){.add-beneficiary-container[_ngcontent-%COMP%]{max-width:900px}}@media (max-width: 768px){.add-beneficiary-container[_ngcontent-%COMP%]{padding:1rem;max-width:100%}.form-card[_ngcontent-%COMP%]{padding:1.5rem;border-radius:16px}.form-title[_ngcontent-%COMP%]{font-size:2rem;flex-direction:column;gap:.5rem}.enhanced-form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.enhanced-form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]   .form-group-small[_ngcontent-%COMP%]{grid-column:span 1;min-width:auto}.enhanced-form[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.25rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:.75rem}.btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.add-beneficiary-container[_ngcontent-%COMP%]{padding:.5rem}.form-card[_ngcontent-%COMP%]{padding:1rem;border-radius:12px}.form-header[_ngcontent-%COMP%]{margin-bottom:2rem}.form-title[_ngcontent-%COMP%]{font-size:1.75rem}}']})}}return t})();function Wt(t,c){t&1&&d(0,"i",42)}function $t(t,c){t&1&&d(0,"i",43)}function Qt(t,c){if(t&1&&(i(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),o(5),n(),i(6,"div",7)(7,"h1"),o(8),n(),i(9,"p",8),o(10),n(),i(11,"div",9)(12,"span",10),d(13,"i",11),o(14),n(),i(15,"span",12),d(16,"i",13),o(17),n()()()(),i(18,"div",14)(19,"div",15)(20,"div",16),p(21,Wt,1,0,"i",17)(22,$t,1,0,"i",18),n(),i(23,"span",19),o(24),M(25,"number"),n(),i(26,"span",20),o(27),n()()()()(),i(28,"div",21)(29,"div",22)(30,"div",23)(31,"div",24),d(32,"i",25),i(33,"h3"),o(34,"Contact Information"),n()(),i(35,"div",26)(36,"div",27),d(37,"i",28),i(38,"div",29)(39,"span",30),o(40,"Email"),n(),i(41,"span",31),o(42),n()()(),i(43,"div",27),d(44,"i",25),i(45,"div",29)(46,"span",30),o(47,"Phone"),n(),i(48,"span",31),o(49),n()()()()(),i(50,"div",23)(51,"div",24),d(52,"i",32),i(53,"h3"),o(54,"Financial Details"),n()(),i(55,"div",26)(56,"div",27),d(57,"i",33),i(58,"div",29)(59,"span",30),o(60,"Budget"),n(),i(61,"span",34),o(62),M(63,"currency"),n()()(),i(64,"div",27),d(65,"i",35),i(66,"div",29)(67,"span",30),o(68,"Power Level"),n(),i(69,"span",36),o(70),n()()()()(),i(71,"div",37)(72,"div",24),d(73,"i",38),i(74,"h3"),o(75,"Profile Statistics"),n()(),i(76,"div",26)(77,"div",39)(78,"div",40),o(79),M(80,"number"),n(),i(81,"div",41),o(82,"Average Rating"),n()(),i(83,"div",39)(84,"div",40),o(85),n(),i(86,"div",41),o(87,"Total Reviews"),n()(),i(88,"div",39)(89,"div",40),o(90),n(),i(91,"div",41),o(92,"Power Level"),n()()()()()()()),t&2){let e=m();r(5),f(" ",e.beneficiary.name.charAt(0).toUpperCase()," "),r(3),b(e.beneficiary.name),r(2),f("ID: ",e.beneficiary.id,""),r(4),f(" ",e.beneficiary.gender," "),r(3),f(" ",e.beneficiary.age," years old "),r(4),s("ngForOf",e.getStarsArray()),r(),s("ngForOf",e.getEmptyStarsArray()),r(2),f("",k(25,16,e.averageRating,"1.1-1")," / 5"),r(3),f("(",e.beneficiary.ratings.numberOfRatings," reviews)"),r(15),b(e.beneficiary.contactInfo.email),r(7),b(e.beneficiary.contactInfo.phone),r(13),b(N(63,19,e.beneficiary.budget)),r(8),b(e.beneficiary.power),r(9),b(k(80,21,e.averageRating,"1.1-1")),r(6),b(e.beneficiary.ratings.numberOfRatings),r(5),b(e.beneficiary.power)}}function Jt(t,c){t&1&&(i(0,"div",44)(1,"div",45),d(2,"i",46),i(3,"p"),o(4,"Loading beneficiary profile..."),n()()())}var We=(()=>{class t{constructor(e,l,a){this.route=e,this.beneficiaryService=l,this.auth=a,this.beneficiary=null,this.loading=!1,this.currentUserId=null}ngOnInit(){this.loading=!0,this.currentUserId=this.auth.currentUser?.id||null;let e=this.route.snapshot.paramMap.get("id");this.beneficiaryService.getBeneficiaryById(e).subscribe({next:l=>{this.beneficiary=l,this.loading=!1},error:()=>{this.loading=!1}})}get averageRating(){if(!this.beneficiary?.ratings.numberOfRatings)return 0;let e=this.beneficiary.ratings.totalScore/this.beneficiary.ratings.numberOfRatings;return Math.min(e,5)}getStarsArray(){let e=Math.min(Math.floor(this.averageRating),5);return Array(Math.max(e,0)).fill(0)}getEmptyStarsArray(){let e=Math.min(Math.floor(this.averageRating),5),l=5-Math.max(e,0);return Array(Math.max(l,0)).fill(0)}static{this.\u0275fac=function(l){return new(l||t)(u(Oe),u(q),u(P))}}static{this.\u0275cmp=w({type:t,selectors:[["app-profile-beneficiary"]],decls:2,vars:2,consts:[["class","profile-container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"profile-container"],[1,"profile-header"],[1,"header-content"],[1,"profile-info"],[1,"avatar"],[1,"profile-details"],[1,"profile-id"],[1,"profile-badges"],[1,"badge","badge-primary"],[1,"pi","pi-user"],[1,"badge","badge-secondary"],[1,"pi","pi-calendar"],[1,"profile-actions"],[1,"rating-display"],[1,"rating-stars"],["class","pi pi-star-fill",4,"ngFor","ngForOf"],["class","pi pi-star",4,"ngFor","ngForOf"],[1,"rating-text"],[1,"rating-count"],[1,"profile-content"],[1,"content-grid"],[1,"info-card"],[1,"card-header"],[1,"pi","pi-phone"],[1,"card-content"],[1,"info-item"],[1,"pi","pi-envelope"],[1,"info-details"],[1,"info-label"],[1,"info-value"],[1,"pi","pi-dollar"],[1,"pi","pi-wallet"],[1,"info-value","budget-amount"],[1,"pi","pi-bolt"],[1,"info-value","power-level"],[1,"info-card","stats-card"],[1,"pi","pi-chart-bar"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],[1,"pi","pi-star-fill"],[1,"pi","pi-star"],[1,"loading-container"],[1,"loading-content"],[1,"pi","pi-spinner","pi-spin"]],template:function(l,a){l&1&&p(0,Qt,93,24,"div",0)(1,Jt,5,0,"div",1),l&2&&(s("ngIf",!a.loading&&a.beneficiary),r(),s("ngIf",a.loading))},dependencies:[B,E,U,Z],styles:[".profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;background:#f8fafc;min-height:100vh}.profile-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:1rem;box-shadow:0 10px 25px -5px #0000001a,0 10px 10px -5px #0000000a;margin-bottom:2rem;overflow:hidden}.header-content[_ngcontent-%COMP%]{padding:2rem;display:flex;justify-content:space-between;align-items:flex-start;color:#fff}.profile-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.avatar[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:50%;background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:3px solid rgba(255,255,255,.3);display:flex;align-items:center;justify-content:center;color:#fff;font-size:2rem;font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.3)}.profile-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:#fff;margin:0 0 .5rem;text-shadow:0 2px 4px rgba(0,0,0,.3)}.profile-id[_ngcontent-%COMP%]{color:#fffc;font-size:.875rem;margin-bottom:1rem;font-weight:500}.profile-badges[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:2rem;font-size:.875rem;font-weight:500;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.badge-primary[_ngcontent-%COMP%]{background:#3b82f64d;color:#fff}.badge-secondary[_ngcontent-%COMP%]{background:#10b9814d;color:#fff}.profile-actions[_ngcontent-%COMP%]{text-align:right}.rating-display[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:1rem;border-radius:.75rem;border:1px solid rgba(255,255,255,.2)}.rating-stars[_ngcontent-%COMP%]{display:flex;gap:.25rem;justify-content:center;margin-bottom:.5rem}.rating-stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fbbf24;font-size:1.25rem;text-shadow:0 1px 2px rgba(0,0,0,.3)}.rating-text[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3)}.rating-count[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#fffc;margin-top:.25rem}.profile-content[_ngcontent-%COMP%]{margin-top:2rem}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:2rem;margin-bottom:2rem}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;overflow:hidden;transition:all .3s ease;border:1px solid #e5e7eb}.info-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px -3px #0000001a,0 4px 6px -2px #0000000d}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3f4f6,#e5e7eb);padding:1.5rem;border-bottom:1px solid #e5e7eb;display:flex;align-items:center;gap:.75rem}.card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6366f1;font-size:1.25rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600;color:#374151}.card-content[_ngcontent-%COMP%]{padding:1.5rem}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 0;border-bottom:1px solid #f3f4f6}.info-item[_ngcontent-%COMP%]:last-child{border-bottom:none;padding-bottom:0}.info-item[_ngcontent-%COMP%]:first-child{padding-top:0}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:50%;background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0}.info-details[_ngcontent-%COMP%]{flex:1}.info-details[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#6b7280;font-weight:500;margin-bottom:.25rem}.info-details[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{display:block;font-size:1rem;color:#111827;font-weight:600}.budget-amount[_ngcontent-%COMP%]{color:#059669!important;font-size:1.25rem!important;font-weight:700!important}.power-level[_ngcontent-%COMP%]{color:#dc2626!important;font-size:1.25rem!important;font-weight:700!important}.stats-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;text-align:center}.stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#6366f1;line-height:1;margin-bottom:.5rem}.stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.rating-section[_ngcontent-%COMP%]{margin-top:2rem}.rating-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;overflow:hidden;border:1px solid #e5e7eb}.rating-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a)}.rating-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f59e0b}.rating-card[_ngcontent-%COMP%]   .rating-description[_ngcontent-%COMP%]{color:#6b7280;margin-bottom:1.5rem;font-size:1rem}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:60vh}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#6366f1;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:1.125rem;margin:0}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:1rem}.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;text-align:center}.profile-info[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stats-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}@media (max-width: 480px){.profile-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.avatar[_ngcontent-%COMP%]{width:4rem;height:4rem;font-size:1.5rem}.profile-badges[_ngcontent-%COMP%]{justify-content:center}}"]})}}return t})();var $e=(()=>{class t{constructor(e){this.http=e,this.apiUrl="/api/pending-requests"}getPendingRequests(){return this.http.get(this.apiUrl)}approveRequest(e){return this.http.post(`${this.apiUrl}/${e}/approve`,{})}rejectRequest(e){return this.http.post(`${this.apiUrl}/${e}/reject`,{})}static{this.\u0275fac=function(l){return new(l||t)($(ee))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Xt(t,c){t&1&&(I(),i(0,"svg",14),d(1,"path",15),n())}function Zt(t,c){t&1&&(i(0,"span",16),o(1,"\u27F3"),n())}function en(t,c){t&1&&(i(0,"div",17)(1,"div",18),d(2,"div",19)(3,"div",20),n(),i(4,"p",21),o(5,"Loading pending requests..."),n(),i(6,"p",22),o(7,"Please wait while we fetch the latest data"),n()())}function tn(t,c){t&1&&(i(0,"div",17)(1,"div",23),I(),i(2,"svg",24),d(3,"path",25),n()(),L(),i(4,"h3",26),o(5,"No Pending Requests"),n(),i(6,"p",27),o(7,"All registration requests have been processed. New requests will appear here when submitted."),n()())}function nn(t,c){t&1&&(I(),i(0,"svg",59),d(1,"path",60),n())}function rn(t,c){t&1&&d(0,"span",61)}function on(t,c){t&1&&(I(),i(0,"svg",59),d(1,"path",62),n())}function an(t,c){t&1&&d(0,"span",61)}function ln(t,c){if(t&1){let e=S();i(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",18)(5,"div",34)(6,"span",35),o(7),n()(),d(8,"div",36),n(),i(9,"div")(10,"h3",37),o(11),n(),i(12,"p",38),I(),i(13,"svg",14),d(14,"path",39),n(),o(15),n()()(),L(),i(16,"div",40)(17,"div",41)(18,"div",42),I(),i(19,"svg",43),d(20,"path",44),n(),L(),i(21,"span",45),o(22,"Role"),n()(),i(23,"p",46),o(24),n()(),i(25,"div",41)(26,"div",42),I(),i(27,"svg",47),d(28,"path",48),n(),L(),i(29,"span",45),o(30,"Request Date"),n()(),i(31,"p",46),o(32),M(33,"date"),n(),i(34,"p",49),o(35),M(36,"date"),n()(),i(37,"div",41)(38,"div",42),I(),i(39,"svg",50),d(40,"path",51),n(),L(),i(41,"span",45),o(42,"Status"),n()(),i(43,"span",52),d(44,"span",53),o(45),M(46,"titlecase"),n()()()(),i(47,"div",54)(48,"button",55),x("click",function(){let a=_(e).$implicit,g=m(2);return h(g.approveRequest(a.id))}),p(49,nn,2,0,"svg",56)(50,rn,1,0,"span",57),o(51),n(),i(52,"button",58),x("click",function(){let a=_(e).$implicit,g=m(2);return h(g.rejectRequest(a.id))}),p(53,on,2,0,"svg",56)(54,an,1,0,"span",57),o(55),n()()()()}if(t&2){let e=c.$implicit,l=m(2);r(7),f(" ",e.username.charAt(0).toUpperCase()," "),r(4),b(e.username),r(4),f(" ",e.email," "),r(9),b(e.role),r(8),b(k(33,15,e.requestDate,"MMM d, y")),r(3),b(k(36,18,e.requestDate,"shortTime")),r(10),f(" ",N(46,21,e.status)," "),r(3),s("disabled",l.isProcessing(e.id)),r(),s("ngIf",!l.isProcessing(e.id)),r(),s("ngIf",l.isProcessing(e.id)),r(),f(" ",l.isProcessing(e.id)?"Processing...":"Approve"," "),r(),s("disabled",l.isProcessing(e.id)),r(),s("ngIf",!l.isProcessing(e.id)),r(),s("ngIf",l.isProcessing(e.id)),r(),f(" ",l.isProcessing(e.id)?"Processing...":"Reject"," ")}}function dn(t,c){if(t&1&&(i(0,"div",28),p(1,ln,56,23,"div",29),n()),t&2){let e=m();r(),s("ngForOf",e.pendingRequests)}}var Qe=(()=>{class t{constructor(e){this.pendingRequestService=e,this.pendingRequests=[],this.loading=!1,this.processingRequests=new Set}ngOnInit(){this.loadPendingRequests()}loadPendingRequests(){this.loading=!0,this.pendingRequestService.getPendingRequests().subscribe({next:e=>{this.pendingRequests=e.filter(l=>l.status==="pending"),this.loading=!1},error:e=>{console.error("Error loading pending requests:",e),this.loading=!1}})}approveRequest(e){this.processingRequests.add(e),this.pendingRequestService.approveRequest(e).subscribe({next:l=>{console.log("Request approved:",l),this.processingRequests.delete(e),this.loadPendingRequests()},error:l=>{console.error("Error approving request:",l),this.processingRequests.delete(e)}})}rejectRequest(e){this.processingRequests.add(e),this.pendingRequestService.rejectRequest(e).subscribe({next:l=>{console.log("Request rejected:",l),this.processingRequests.delete(e),this.loadPendingRequests()},error:l=>{console.error("Error rejecting request:",l),this.processingRequests.delete(e)}})}isProcessing(e){return this.processingRequests.has(e)}static{this.\u0275fac=function(l){return new(l||t)(u($e))}}static{this.\u0275cmp=w({type:t,selectors:[["app-pending-requests"]],decls:21,vars:8,consts:[[1,"min-h-screen","bg-gradient-to-br","from-gray-50","to-gray-100","p-6"],[1,"max-w-7xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","mb-8","gap-4"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"flex","items-center","gap-3"],[1,"bg-white","rounded-lg","px-4","py-2","shadow-sm","border","border-gray-200"],[1,"text-sm","text-gray-600"],[1,"font-semibold","text-gray-900"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-6","py-2.5","rounded-lg","transition-all","duration-200","shadow-lg","hover:shadow-xl","flex","items-center","gap-2","font-medium",3,"click","disabled"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","animate-spin mr-1",4,"ngIf"],["class","flex flex-col items-center justify-center py-16",4,"ngIf"],["class","grid gap-6 lg:gap-8",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"animate-spin","mr-1"],[1,"flex","flex-col","items-center","justify-center","py-16"],[1,"relative"],[1,"animate-spin","rounded-full","h-16","w-16","border-4","border-blue-200","border-t-blue-600"],[1,"absolute","inset-0","rounded-full","h-16","w-16","border-4","border-transparent","border-t-blue-300","animate-ping"],[1,"mt-6","text-lg","text-gray-600","font-medium"],[1,"text-sm","text-gray-500","mt-2"],[1,"bg-gray-100","rounded-full","p-6","mb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-xl","font-semibold","text-gray-700","mb-3"],[1,"text-gray-500","text-center","max-w-md"],[1,"grid","gap-6","lg:gap-8"],["class","group bg-white rounded-2xl shadow-sm hover:shadow-xl border border-gray-200 p-8 transition-all duration-300 hover:border-blue-300",4,"ngFor","ngForOf"],[1,"group","bg-white","rounded-2xl","shadow-sm","hover:shadow-xl","border","border-gray-200","p-8","transition-all","duration-300","hover:border-blue-300"],[1,"flex","flex-col","lg:flex-row","lg:items-start","lg:justify-between","gap-6"],[1,"flex-1"],[1,"flex","items-center","gap-4","mb-6"],[1,"w-14","h-14","bg-gradient-to-br","from-blue-500","to-blue-600","rounded-2xl","flex","items-center","justify-center","shadow-lg"],[1,"text-white","font-bold","text-lg"],[1,"absolute","-top-1","-right-1","w-5","h-5","bg-yellow-400","rounded-full","border-2","border-white"],[1,"text-xl","font-bold","text-gray-900","mb-1"],[1,"text-gray-600","flex","items-center","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-6"],[1,"bg-gray-50","rounded-xl","p-4"],[1,"flex","items-center","gap-3","mb-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-lg","font-semibold","text-gray-900"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3a4 4 0 118 0v4m-4 6v6m-7-9a2 2 0 012-2h10a2 2 0 012 2v7a2 2 0 01-2 2H5a2 2 0 01-2-2v-7z"],[1,"text-xs","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"inline-flex","items-center","px-3","py-1.5","rounded-lg","text-sm","font-semibold","bg-gradient-to-r","from-yellow-100","to-orange-100","text-yellow-800","shadow-sm"],[1,"w-2","h-2","bg-yellow-500","rounded-full","mr-2","animate-pulse"],[1,"flex","flex-col","sm:flex-row","lg:flex-col","gap-3","lg:min-w-[160px]"],[1,"group/btn","bg-gradient-to-r","from-emerald-500","to-green-600","hover:from-emerald-600","hover:to-green-700","disabled:from-gray-400","disabled:to-gray-500","text-white","px-6","py-3","rounded-xl","transition-all","duration-200","shadow-lg","hover:shadow-xl","flex","items-center","justify-center","gap-3","font-medium","transform","hover:-translate-y-0.5","disabled:transform-none","disabled:cursor-not-allowed",3,"click","disabled"],["class","w-5 h-5 transition-transform group-hover/btn:scale-110","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full",4,"ngIf"],[1,"group/btn","bg-gradient-to-r","from-red-500","to-rose-600","hover:from-red-600","hover:to-rose-700","disabled:from-gray-400","disabled:to-gray-500","text-white","px-6","py-3","rounded-xl","transition-all","duration-200","shadow-lg","hover:shadow-xl","flex","items-center","justify-center","gap-3","font-medium","transform","hover:-translate-y-0.5","disabled:transform-none","disabled:cursor-not-allowed",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","transition-transform","group-hover/btn:scale-110"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"animate-spin","w-5","h-5","border-2","border-white","border-t-transparent","rounded-full"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(l,a){l&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),o(5,"Pending Registration Requests"),n(),i(6,"p",4),o(7,"Review and manage user registration requests"),n()(),i(8,"div",5)(9,"div",6)(10,"span",7),o(11,"Total: "),n(),i(12,"span",8),o(13),n()(),i(14,"button",9),x("click",function(){return a.loadPendingRequests()}),p(15,Xt,2,0,"svg",10)(16,Zt,2,0,"span",11),o(17),n()()(),p(18,en,8,0,"div",12)(19,tn,8,0,"div",12)(20,dn,2,1,"div",13),n()()),l&2&&(r(13),b(a.pendingRequests.length),r(),s("disabled",a.loading),r(),s("ngIf",!a.loading),r(),s("ngIf",a.loading),r(),f(" ",a.loading?"Refreshing...":"Refresh"," "),r(),s("ngIf",a.loading&&a.pendingRequests.length===0),r(),s("ngIf",!a.loading&&a.pendingRequests.length===0),r(),s("ngIf",a.pendingRequests.length>0))},dependencies:[B,E,ve,Me],styles:[".group[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(59,130,246,.3) transparent}.container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#3b82f64d;border-radius:3px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#3b82f680}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.group[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.group[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.group[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.group[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.group[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.group[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}button[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}@keyframes _ngcontent-%COMP%_pulse-ring{0%{transform:scale(.33)}40%,50%{opacity:1}to{opacity:0;transform:scale(1.2)}}.animate-ping[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-ring 1s cubic-bezier(0,0,.2,1) infinite}.bg-gradient-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.bg-gradient-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#84fab0,#8fd3f4)}.bg-gradient-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fc466b,#3f5efb)}"]})}}return t})();var ce=(t,c)=>{let e=D(P),l=D(Y);return e.isLoggedIn()?!0:(l.navigate(["/auth/login"],{queryParams:{returnUrl:c.url}}),!1)};var fe=(t,c)=>{let e=D(P),l=D(Y),a=t.data.roles||[],g=e.currentUser;return g&&a.includes(g.role)?!0:(l.navigate(["/"]),!1)};var sn=[{path:"list",component:He},{path:"add",component:Ge,canActivate:[ce,fe],data:{roles:["Admin"]}},{path:"pending-requests",component:Qe,canActivate:[ce,fe],data:{roles:["Admin"]}},{path:"profile/:id",component:We,canActivate:[ce]},{path:"",redirectTo:"list",pathMatch:"full"}],Je=(()=>{class t{static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275mod=Q({type:t})}static{this.\u0275inj=W({imports:[ge.forChild(sn),ge]})}}return t})();var ii=(()=>{class t{static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275mod=Q({type:t})}static{this.\u0275inj=W({providers:[T],imports:[Pe,Be,Te,Je,De]})}}return t})();export{ii as BeneficiariesModule};
